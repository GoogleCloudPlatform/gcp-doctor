<!doctype html><html lang=en class=no-js>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=generator content="Hugo 0.88.0"><meta name=ROBOTS content="NOINDEX, NOFOLLOW">
<link rel="shortcut icon" href=/favicons/favicon.ico>
<link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180>
<link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16>
<link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36>
<link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48>
<link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72>
<link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96>
<link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144>
<link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192>
<title>gcpdiag</title>
<meta name=description content="
title: &ldquo;gce/Vm Termination&rdquo;
linkTitle: &ldquo;gce/vm_termination&rdquo;
weight: 3
type: docs
description: >
GCE VM shutdowns and …">
<meta property="og:title" content>
<meta property="og:description" content="title: &ldquo;gce/Vm Termination&rdquo; linkTitle: &ldquo;gce/vm_termination&rdquo; weight: 3 type: docs description: > GCE VM shutdowns and reboots Root Cause Analysis (RCA) Product: Compute Engine Kind: Debugging Tree
Description This runbook is designed to assist you in investigating and understanding the underlying reasons behind the unexpected termination or reboot of your GCE Virtual Machines (VMs) within Google Cloud Platform.
Key Investigation Areas:
System Event-Triggered Shutdowns/Reboots: Identifies terminations initiated by internal Google Cloud systems due to system maintenance events, normal hardware failures, resource constraints.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://gcpdiag.dev/runbook/diagnostic-trees/gce/vm_termination/"><meta property="og:image" content="https://gcpdiag.dev/images/website-preview.jpg"><meta property="article:section" content="runbook">
<meta property="article:modified_time" content="2024-03-26T14:14:34+00:00"><meta property="og:site_name" content="gcpdiag">
<meta itemprop=name content>
<meta itemprop=description content="title: &ldquo;gce/Vm Termination&rdquo; linkTitle: &ldquo;gce/vm_termination&rdquo; weight: 3 type: docs description: > GCE VM shutdowns and reboots Root Cause Analysis (RCA) Product: Compute Engine Kind: Debugging Tree
Description This runbook is designed to assist you in investigating and understanding the underlying reasons behind the unexpected termination or reboot of your GCE Virtual Machines (VMs) within Google Cloud Platform.
Key Investigation Areas:
System Event-Triggered Shutdowns/Reboots: Identifies terminations initiated by internal Google Cloud systems due to system maintenance events, normal hardware failures, resource constraints.">
<meta itemprop=dateModified content="2024-03-26T14:14:34+00:00">
<meta itemprop=wordCount content="305"><meta itemprop=image content="https://gcpdiag.dev/images/website-preview.jpg">
<meta itemprop=keywords content><meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://gcpdiag.dev/images/website-preview.jpg">
<meta name=twitter:title content>
<meta name=twitter:description content="title: &ldquo;gce/Vm Termination&rdquo; linkTitle: &ldquo;gce/vm_termination&rdquo; weight: 3 type: docs description: > GCE VM shutdowns and reboots Root Cause Analysis (RCA) Product: Compute Engine Kind: Debugging Tree
Description This runbook is designed to assist you in investigating and understanding the underlying reasons behind the unexpected termination or reboot of your GCE Virtual Machines (VMs) within Google Cloud Platform.
Key Investigation Areas:
System Event-Triggered Shutdowns/Reboots: Identifies terminations initiated by internal Google Cloud systems due to system maintenance events, normal hardware failures, resource constraints.">
<link href=/scss/main.css rel=stylesheet>
<script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script>
</head>
<body class=td-page>
<header>
<nav class="js-navbar-scroll navbar navbar-expand navbar-light nav-shadow flex-column flex-md-row td-navbar">
<a id=gcpdiag-top class=navbar-brand href=/>
<img src=/images/stethoscope.png height=30><span class=font-weight-bold>&nbsp;gcpdiag</span>
</a>
<div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar>
<ul class="navbar-nav mt-2 mt-lg-0">
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/docs/><span>Documentation</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=/rules/><span>Rules</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class="nav-link active" href=/runbook/><span class=active>Runbook</span></a>
</li>
<li class="nav-item mr-4 mb-2 mb-lg-0">
<a class=nav-link href=https://github.com/GoogleCloudPlatform/gcpdiag><span>GitHub</span></a>
</li>
</ul>
</div>
<div class="navbar-nav mx-lg-2 d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off>
</div>
</nav>
</header>
<div class="container-fluid td-default td-outer">
<main role=main class=td-main>
<hr>
<h2 id=gce-vm-shutdowns-and-reboots-root-cause-analysis-rca>title: &ldquo;gce/Vm Termination&rdquo;
linkTitle: &ldquo;gce/vm_termination&rdquo;
weight: 3
type: docs
description: >
GCE VM shutdowns and reboots Root Cause Analysis (RCA)</h2>
<p><strong>Product</strong>: <a href=https://cloud.google.com/compute>Compute Engine</a>
<strong>Kind</strong>: Debugging Tree</p>
<h3 id=description>Description</h3>
<p>This runbook is designed to assist you in investigating and understanding the underlying reasons
behind the unexpected termination or reboot of your GCE Virtual Machines (VMs) within Google
Cloud Platform.</p>
<p>Key Investigation Areas:</p>
<p>System Event-Triggered Shutdowns/Reboots: Identifies terminations initiated by internal Google
Cloud systems due to system maintenance events, normal hardware failures,
resource constraints.</p>
<p>System Admin Activities-Triggered Shutdowns/Reboots: Investigates terminations caused by
direct actions, such as API calls made by users or service accounts. These actions
may include manual shutdowns, restarts, or automated processes impacting VM states.</p>
<p>RCA Text Generation: Provides a detailed Root Cause Analysis text, outlining the identified
cause of termination, the involved systems or activities, and recommendations
to prevent future occurrences where applicaable.</p>
<h3 id=executing-this-runbook>Executing this runbook</h3>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>gcpdiag runbook gce/vm_termination <span style=color:#4e9a06>\
</span><span style=color:#4e9a06></span>  -p <span style=color:#000>project_id</span> <span style=color:#ce5c00;font-weight:700>=</span> value <span style=color:#4e9a06>\
</span><span style=color:#4e9a06></span>  -p <span style=color:#000>name</span> <span style=color:#ce5c00;font-weight:700>=</span> value <span style=color:#4e9a06>\
</span><span style=color:#4e9a06></span>  -p <span style=color:#000>id</span> <span style=color:#ce5c00;font-weight:700>=</span> value <span style=color:#4e9a06>\
</span><span style=color:#4e9a06></span>  -p <span style=color:#000>zone</span> <span style=color:#ce5c00;font-weight:700>=</span> value <span style=color:#4e9a06>\
</span><span style=color:#4e9a06></span>  -p <span style=color:#000>start_time_utc</span> <span style=color:#ce5c00;font-weight:700>=</span> value <span style=color:#4e9a06>\
</span><span style=color:#4e9a06></span>  -p <span style=color:#000>end_time_utc</span> <span style=color:#ce5c00;font-weight:700>=</span> value
</code></pre></div><h4 id=parameters>Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Required</th>
<th>Default</th>
<th>Type</th>
<th>Help</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>project_id</code></td>
<td>True</td>
<td>None</td>
<td>str</td>
<td>The Project ID associated with the terminated VM.For investigations covering multiple VMs, provide only the Project ID.</td>
</tr>
<tr>
<td><code>name</code></td>
<td>False</td>
<td>None</td>
<td>str</td>
<td>The name of the terminated VM. Or provide the id i.e -p id=</td>
</tr>
<tr>
<td><code>id</code></td>
<td>False</td>
<td>None</td>
<td>int</td>
<td>The instance ID of the terminated VM. Or provide name instead i.e -p name=</td>
</tr>
<tr>
<td><code>zone</code></td>
<td>False</td>
<td>None</td>
<td>str</td>
<td>The Google Cloud zone where the terminated VM is located.</td>
</tr>
<tr>
<td><code>start_time_utc</code></td>
<td>False</td>
<td>None</td>
<td>datetime</td>
<td>The start window to investigate vm termination. Format: YYYY-MM-DDTHH:MM:SSZ</td>
</tr>
<tr>
<td><code>end_time_utc</code></td>
<td>False</td>
<td>None</td>
<td>datetime</td>
<td>The end window for the investigation. Format: YYYY-MM-DDTHH:MM:SSZ</td>
</tr>
</tbody>
</table>
<p>Get help on available commands</p>
<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>gcpdiag runbook --help
</code></pre></div><h3 id=potential-steps>Potential Steps</h3>
<ul>
<li>
<p><a href=/runbook/steps/gce/vm-termination-start>Vm Termination Start</a></p>
</li>
<li>
<p><a href=/runbook/steps/gce/number-of-terminations>Number Of Terminations</a></p>
</li>
<li>
<p><a href=/runbook/steps/gce/single-termination-check>Single Termination Check</a></p>
</li>
<li>
<p><a href=/runbook/steps/gce/multiple-termination-check>Multiple Termination Check</a></p>
</li>
<li>
<p><a href=/runbook/steps/gce/vm-termination-end>Vm Termination End</a></p>
</li>
</ul>
</main>
<footer class="bg-dark py-5 row d-print-none">
<div class="container-fluid mx-sm-5">
<div class=row>
<div class="col-6 col-sm-4 text-xs-center order-sm-2">
</div>
<div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
<ul class="list-inline mb-0">
<li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub>
<a class=text-white target=_blank rel=noopener href=https://github.com/GoogleCloudPlatform/gcpdiag aria-label=GitHub>
<i class="fab fa-github"></i>
</a>
</li>
</ul>
</div>
<div class="col-12 col-sm-4 text-center py-2 order-sm-2">
<small class=text-white>&copy; 2024 Google LLC All Rights Reserved</small>
<small class=ml-1><a href=/privacy/ target=_blank rel=noopener>Privacy Policy</a></small>
</div>
</div>
</div>
</footer>
</div>
<script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script>
<script src=/js/tabpane-persist.js></script>
<script src=/js/main.js></script>
</body>
</html>