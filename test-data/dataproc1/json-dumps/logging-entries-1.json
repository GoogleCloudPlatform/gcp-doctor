{
  "entries": [
    {
      "protoPayload": {
        "@type": "type.googleapis.com/google.cloud.audit.AuditLog",
        "status": {
          "code": 13,
          "message": "Cannot start master: Timed out waiting for 2 nodes. This usually happens when VM to VM communications are blocked by firewall rules. For additional details, see https://cloud.google.com/dataproc/docs/concepts/configuring-clusters/network#firewall_rule_requirement\nOperation timed out: Only 0 out of 2 minimum required datanodes running.\nOperation timed out: Only 0 out of 2 minimum required node managers running."
        },
        "authenticationInfo": {
          "principalEmail": "abcdef@abcdef.com",
          "principalSubject": "user:abcdef@abcdef.com"
        },
        "requestMetadata": {
          "requestAttributes": {},
          "destinationAttributes": {}
        },
        "serviceName": "dataproc.googleapis.com",
        "methodName": "google.cloud.dataproc.v1.ClusterController.CreateCluster",
        "resourceName": "projects/gcpdiag-dataproc1-aaaa/regions/us-central1/clusters/test-deny-icmp"
      },
      "insertId": "l3qwwvd4pic",
      "resource": {
        "type": "cloud_dataproc_cluster",
        "labels": {
          "project_id": "gcpdiag-dataproc1-aaaa",
          "region": "us-central1",
          "cluster_name": "test-deny-icmp",
          "cluster_uuid": "c02d5602-14ac-4e8e-af4f-f83df01b3b16"
        }
      },
      "timestamp": "2024-06-25T13:01:48.296661Z",
      "severity": "ERROR",
      "logName": "projects/gcpdiag-dataproc1-aaaa/logs/cloudaudit.googleapis.com%2Factivity",
      "operation": {
        "id": "projects/gcpdiag-dataproc1-aaaa/regions/us-central1/operations/57bcfcd4-08c0-4fae-ba01-f7a5496e970e",
        "producer": "dataproc.googleapis.com",
        "last": true
      },
      "receiveTimestamp": "2024-06-25T13:01:49.076353521Z"
    },
    {
      "protoPayload": {
        "@type": "type.googleapis.com/google.cloud.audit.AuditLog",
        "status": {},
        "authenticationInfo": {
          "principalEmail": "abcdef@abcdef.com",
          "principalSubject": "user:abcdef@abcdef.com"
        },
        "requestMetadata": {
          "callerIp": "gce-internal-ip",
          "callerSuppliedUserAgent": "google-api-go-client/0.5 Terraform/0.13.7 (+https://www.terraform.io) Terraform-Plugin-SDK/2.33.0 terraform-provider-google/5.35.0,gzip(gfe)",
          "requestAttributes": {
            "time": "2024-06-25T12:49:50.672381Z",
            "auth": {}
          },
          "destinationAttributes": {}
        },
        "serviceName": "dataproc.googleapis.com",
        "methodName": "google.cloud.dataproc.v1.ClusterController.CreateCluster",
        "authorizationInfo": [
          {
            "permission": "dataproc.clusters.create",
            "granted": true,
            "resourceAttributes": {},
            "permissionType": "ADMIN_WRITE"
          }
        ],
        "resourceName": "projects/gcpdiag-dataproc1-aaaa/regions/us-central1/clusters/test-deny-icmp",
        "request": {
          "cluster": {
            "projectId": "gcpdiag-dataproc1-aaaa",
            "config": {
              "gceClusterConfig": {
                "subnetworkUri": "projects/gcpdiag-dataproc1-aaaa/regions/us-central1/subnetworks/test-bad-subnet",
                "zoneUri": "us-central1-a",
                "tags": [
                  "icmp-deny"
                ]
              }
            },
            "clusterName": "test-deny-icmp"
          },
          "region": "us-central1",
          "@type": "type.googleapis.com/google.cloud.dataproc.v1.CreateClusterRequest",
          "projectId": "gcpdiag-dataproc1-aaaa"
        },
        "resourceLocation": {
          "currentLocations": [
            "us-central1"
          ]
        }
      },
      "insertId": "lxbe3rdho8e",
      "resource": {
        "type": "cloud_dataproc_cluster",
        "labels": {
          "region": "us-central1",
          "project_id": "gcpdiag-dataproc1-aaaa",
          "cluster_name": "test-deny-icmp",
          "cluster_uuid": "c02d5602-14ac-4e8e-af4f-f83df01b3b16"
        }
      },
      "timestamp": "2024-06-25T12:49:49.631732Z",
      "severity": "NOTICE",
      "logName": "projects/gcpdiag-dataproc1-aaaa/logs/cloudaudit.googleapis.com%2Factivity",
      "operation": {
        "id": "projects/gcpdiag-dataproc1-aaaa/regions/us-central1/operations/57bcfcd4-08c0-4fae-ba01-f7a5496e970e",
        "producer": "dataproc.googleapis.com",
        "first": true
      },
      "receiveTimestamp": "2024-06-25T12:49:51.064248440Z"
    },
    {
      "protoPayload": {
        "@type": "type.googleapis.com/google.cloud.audit.AuditLog",
        "status": {},
        "authenticationInfo": {
          "principalEmail": "abcdef@abcdef.com",
          "principalSubject": "user:abcdef@abcdef.com"
        },
        "requestMetadata": {
          "requestAttributes": {},
          "destinationAttributes": {}
        },
        "serviceName": "dataproc.googleapis.com",
        "methodName": "google.cloud.dataproc.v1.ClusterController.CreateCluster",
        "resourceName": "projects/gcpdiag-dataproc1-aaaa/regions/us-central1/clusters/good"
      },
      "insertId": "-tel8wfd1a0g",
      "resource": {
        "type": "cloud_dataproc_cluster",
        "labels": {
          "cluster_uuid": "e7e3a260-78c1-4364-8ec8-32df4ea2be57",
          "project_id": "gcpdiag-dataproc1-aaaa",
          "region": "us-central1",
          "cluster_name": "good"
        }
      },
      "timestamp": "2024-06-25T12:04:13.209895Z",
      "severity": "NOTICE",
      "logName": "projects/gcpdiag-dataproc1-aaaa/logs/cloudaudit.googleapis.com%2Factivity",
      "operation": {
        "id": "projects/gcpdiag-dataproc1-aaaa/regions/us-central1/operations/8e8d0ccb-af18-4bdb-985e-fa9158761655",
        "producer": "dataproc.googleapis.com",
        "last": true
      },
      "receiveTimestamp": "2024-06-25T12:04:13.751600838Z"
    },
    {
      "protoPayload": {
        "@type": "type.googleapis.com/google.cloud.audit.AuditLog",
        "status": {},
        "authenticationInfo": {
          "principalEmail": "abcdef@abcdef.com",
          "principalSubject": "user:abcdef@abcdef.com"
        },
        "requestMetadata": {
          "requestAttributes": {},
          "destinationAttributes": {}
        },
        "serviceName": "dataproc.googleapis.com",
        "methodName": "google.cloud.dataproc.v1.ClusterController.CreateCluster",
        "resourceName": "projects/gcpdiag-dataproc1-aaaa/regions/us-central1/clusters/test-best-practices-enabled"
      },
      "insertId": "95y45od1bdw",
      "resource": {
        "type": "cloud_dataproc_cluster",
        "labels": {
          "cluster_name": "test-best-practices-enabled",
          "region": "us-central1",
          "project_id": "gcpdiag-dataproc1-aaaa",
          "cluster_uuid": "62a9bfce-295a-4637-b732-8fa8a1cc4196"
        }
      },
      "timestamp": "2024-06-25T12:04:02.579303Z",
      "severity": "NOTICE",
      "logName": "projects/gcpdiag-dataproc1-aaaa/logs/cloudaudit.googleapis.com%2Factivity",
      "operation": {
        "id": "projects/gcpdiag-dataproc1-aaaa/regions/us-central1/operations/997fd50c-1ff7-48a8-977d-18d4e4b14f2a",
        "producer": "dataproc.googleapis.com",
        "last": true
      },
      "receiveTimestamp": "2024-06-25T12:04:02.968582782Z"
    },
    {
      "protoPayload": {
        "@type": "type.googleapis.com/google.cloud.audit.AuditLog",
        "status": {},
        "authenticationInfo": {
          "principalEmail": "abcdef@abcdef.com",
          "principalSubject": "user:abcdef@abcdef.com"
        },
        "requestMetadata": {
          "requestAttributes": {},
          "destinationAttributes": {}
        },
        "serviceName": "dataproc.googleapis.com",
        "methodName": "google.cloud.dataproc.v1.ClusterController.CreateCluster",
        "resourceName": "projects/gcpdiag-dataproc1-aaaa/regions/us-central1/clusters/test-best-practices-disabled"
      },
      "insertId": "-77clsnd13n2",
      "resource": {
        "type": "cloud_dataproc_cluster",
        "labels": {
          "region": "us-central1",
          "cluster_name": "test-best-practices-disabled",
          "project_id": "gcpdiag-dataproc1-aaaa",
          "cluster_uuid": "7426fd71-2543-44c8-aae3-c42b00069d1c"
        }
      },
      "timestamp": "2024-06-25T12:03:43.479564Z",
      "severity": "NOTICE",
      "logName": "projects/gcpdiag-dataproc1-aaaa/logs/cloudaudit.googleapis.com%2Factivity",
      "operation": {
        "id": "projects/gcpdiag-dataproc1-aaaa/regions/us-central1/operations/8378a5b2-98d0-4a7d-8e86-7e3716044aa0",
        "producer": "dataproc.googleapis.com",
        "last": true
      },
      "receiveTimestamp": "2024-06-25T12:03:43.487762518Z"
    },
    {
      "protoPayload": {
        "@type": "type.googleapis.com/google.cloud.audit.AuditLog",
        "status": {},
        "authenticationInfo": {
          "principalEmail": "abcdef@abcdef.com",
          "principalSubject": "user:abcdef@abcdef.com"
        },
        "requestMetadata": {
          "callerIp": "gce-internal-ip",
          "callerSuppliedUserAgent": "google-api-go-client/0.5 Terraform/0.13.7 (+https://www.terraform.io) Terraform-Plugin-SDK/2.33.0 terraform-provider-google/5.35.0,gzip(gfe)",
          "requestAttributes": {
            "time": "2024-06-25T12:00:11.200394Z",
            "auth": {}
          },
          "destinationAttributes": {}
        },
        "serviceName": "dataproc.googleapis.com",
        "methodName": "google.cloud.dataproc.v1.ClusterController.CreateCluster",
        "authorizationInfo": [
          {
            "permission": "dataproc.clusters.create",
            "granted": true,
            "resourceAttributes": {},
            "permissionType": "ADMIN_WRITE"
          }
        ],
        "resourceName": "projects/gcpdiag-dataproc1-aaaa/regions/us-central1/clusters/test-best-practices-enabled",
        "request": {
          "cluster": {
            "clusterName": "test-best-practices-enabled",
            "config": {
              "softwareConfig": {
                "properties": {
                  "dataproc:dataproc.monitoring.stackdriver.enable": "true"
                }
              },
              "workerConfig": {
                "diskConfig": {
                  "bootDiskType": "pd-standard",
                  "bootDiskSizeGb": 30
                },
                "numInstances": 2,
                "machineTypeUri": "e2-medium"
              },
              "gceClusterConfig": {
                "serviceAccount": "saworker@gcpdiag-dataproc1-aaaa.iam.gserviceaccount.com",
                "zoneUri": "us-central1-b"
              },
              "masterConfig": {
                "machineTypeUri": "e2-medium",
                "diskConfig": {
                  "bootDiskType": "pd-standard",
                  "bootDiskSizeGb": 30
                },
                "numInstances": 1
              }
            },
            "projectId": "gcpdiag-dataproc1-aaaa"
          },
          "projectId": "gcpdiag-dataproc1-aaaa",
          "@type": "type.googleapis.com/google.cloud.dataproc.v1.CreateClusterRequest",
          "region": "us-central1"
        },
        "resourceLocation": {
          "currentLocations": [
            "us-central1"
          ]
        }
      },
      "insertId": "2rwttse38wm8",
      "resource": {
        "type": "cloud_dataproc_cluster",
        "labels": {
          "cluster_name": "test-best-practices-enabled",
          "region": "us-central1",
          "project_id": "gcpdiag-dataproc1-aaaa",
          "cluster_uuid": "62a9bfce-295a-4637-b732-8fa8a1cc4196"
        }
      },
      "timestamp": "2024-06-25T12:00:10.039120Z",
      "severity": "NOTICE",
      "logName": "projects/gcpdiag-dataproc1-aaaa/logs/cloudaudit.googleapis.com%2Factivity",
      "operation": {
        "id": "projects/gcpdiag-dataproc1-aaaa/regions/us-central1/operations/997fd50c-1ff7-48a8-977d-18d4e4b14f2a",
        "producer": "dataproc.googleapis.com",
        "first": true
      },
      "receiveTimestamp": "2024-06-25T12:00:11.326023586Z"
    },
    {
      "protoPayload": {
        "@type": "type.googleapis.com/google.cloud.audit.AuditLog",
        "status": {},
        "authenticationInfo": {
          "principalEmail": "abcdef@abcdef.com",
          "principalSubject": "user:abcdef@abcdef.com"
        },
        "requestMetadata": {
          "callerIp": "gce-internal-ip",
          "callerSuppliedUserAgent": "google-api-go-client/0.5 Terraform/0.13.7 (+https://www.terraform.io) Terraform-Plugin-SDK/2.33.0 terraform-provider-google/5.35.0,gzip(gfe)",
          "requestAttributes": {
            "time": "2024-06-25T12:00:13.635016Z",
            "auth": {}
          },
          "destinationAttributes": {}
        },
        "serviceName": "dataproc.googleapis.com",
        "methodName": "google.cloud.dataproc.v1.ClusterController.CreateCluster",
        "authorizationInfo": [
          {
            "permission": "dataproc.clusters.create",
            "granted": true,
            "resourceAttributes": {},
            "permissionType": "ADMIN_WRITE"
          }
        ],
        "resourceName": "projects/gcpdiag-dataproc1-aaaa/regions/us-central1/clusters/good",
        "request": {
          "region": "us-central1",
          "@type": "type.googleapis.com/google.cloud.dataproc.v1.CreateClusterRequest",
          "projectId": "gcpdiag-dataproc1-aaaa",
          "cluster": {
            "config": {
              "workerConfig": {
                "machineTypeUri": "e2-medium",
                "diskConfig": {
                  "bootDiskType": "pd-standard",
                  "bootDiskSizeGb": 30
                },
                "numInstances": 2
              },
              "gceClusterConfig": {},
              "masterConfig": {
                "diskConfig": {
                  "bootDiskSizeGb": 30,
                  "bootDiskType": "pd-standard"
                },
                "numInstances": 1,
                "machineTypeUri": "e2-medium"
              }
            },
            "projectId": "gcpdiag-dataproc1-aaaa",
            "clusterName": "good"
          }
        },
        "resourceLocation": {
          "currentLocations": [
            "us-central1"
          ]
        }
      },
      "insertId": "-t4dtroe4pfuk",
      "resource": {
        "type": "cloud_dataproc_cluster",
        "labels": {
          "cluster_name": "good",
          "region": "us-central1",
          "cluster_uuid": "e7e3a260-78c1-4364-8ec8-32df4ea2be57",
          "project_id": "gcpdiag-dataproc1-aaaa"
        }
      },
      "timestamp": "2024-06-25T12:00:10.037846Z",
      "severity": "NOTICE",
      "logName": "projects/gcpdiag-dataproc1-aaaa/logs/cloudaudit.googleapis.com%2Factivity",
      "operation": {
        "id": "projects/gcpdiag-dataproc1-aaaa/regions/us-central1/operations/8e8d0ccb-af18-4bdb-985e-fa9158761655",
        "producer": "dataproc.googleapis.com",
        "first": true
      },
      "receiveTimestamp": "2024-06-25T12:00:14.371063546Z"
    },
    {
      "protoPayload": {
        "@type": "type.googleapis.com/google.cloud.audit.AuditLog",
        "status": {},
        "authenticationInfo": {
          "principalEmail": "abcdef@abcdef.com",
          "principalSubject": "user:abcdef@abcdef.com"
        },
        "requestMetadata": {
          "callerIp": "gce-internal-ip",
          "callerSuppliedUserAgent": "google-api-go-client/0.5 Terraform/0.13.7 (+https://www.terraform.io) Terraform-Plugin-SDK/2.33.0 terraform-provider-google/5.35.0,gzip(gfe)",
          "requestAttributes": {
            "time": "2024-06-25T12:00:13.623263Z",
            "auth": {}
          },
          "destinationAttributes": {}
        },
        "serviceName": "dataproc.googleapis.com",
        "methodName": "google.cloud.dataproc.v1.ClusterController.CreateCluster",
        "authorizationInfo": [
          {
            "permission": "dataproc.clusters.create",
            "granted": true,
            "resourceAttributes": {},
            "permissionType": "ADMIN_WRITE"
          }
        ],
        "resourceName": "projects/gcpdiag-dataproc1-aaaa/regions/us-central1/clusters/test-best-practices-disabled",
        "request": {
          "region": "us-central1",
          "projectId": "gcpdiag-dataproc1-aaaa",
          "@type": "type.googleapis.com/google.cloud.dataproc.v1.CreateClusterRequest",
          "cluster": {
            "config": {
              "workerConfig": {
                "numInstances": 2,
                "diskConfig": {
                  "bootDiskType": "pd-standard",
                  "bootDiskSizeGb": 30
                },
                "machineTypeUri": "e2-medium"
              },
              "masterConfig": {
                "diskConfig": {
                  "bootDiskType": "pd-standard",
                  "bootDiskSizeGb": 30
                },
                "numInstances": 1,
                "machineTypeUri": "e2-medium"
              },
              "softwareConfig": {
                "properties": {
                  "dataproc:dataproc.logging.stackdriver.enable": "false"
                }
              },
              "gceClusterConfig": {}
            },
            "projectId": "gcpdiag-dataproc1-aaaa",
            "clusterName": "test-best-practices-disabled"
          }
        },
        "resourceLocation": {
          "currentLocations": [
            "us-central1"
          ]
        }
      },
      "insertId": "-4p7zsve1zf7s",
      "resource": {
        "type": "cloud_dataproc_cluster",
        "labels": {
          "region": "us-central1",
          "cluster_name": "test-best-practices-disabled",
          "cluster_uuid": "7426fd71-2543-44c8-aae3-c42b00069d1c",
          "project_id": "gcpdiag-dataproc1-aaaa"
        }
      },
      "timestamp": "2024-06-25T12:00:09.939283Z",
      "severity": "NOTICE",
      "logName": "projects/gcpdiag-dataproc1-aaaa/logs/cloudaudit.googleapis.com%2Factivity",
      "operation": {
        "id": "projects/gcpdiag-dataproc1-aaaa/regions/us-central1/operations/8378a5b2-98d0-4a7d-8e86-7e3716044aa0",
        "producer": "dataproc.googleapis.com",
        "first": true
      },
      "receiveTimestamp": "2024-06-25T12:00:14.548498999Z"
    }
  ]
}
